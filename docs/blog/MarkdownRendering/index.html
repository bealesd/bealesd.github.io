<!DOCTYPE html><html lang="en" style="--search-bar-menu-bar-height:0px;"><head><meta name="generator" content="Scully 1.0.11">
    <meta charset="utf-8">
    <title>David Beales Blog</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A software engineering blog by David Beales. Mosts posts are Angular, TypScript, and JavaScript related.">
    <link rel="icon" type="image/png" href="assets/favicon-32x32.png" sizes="32x32">

    <script src="assets/prism/prism.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <link rel="stylesheet" href="assets/prism/prism.css">
<link rel="stylesheet" href="styles.40b3fcb069b136406260.css"><style>[_nghost-uqa-c18]{--router-outlet-vertical-padding:20px;--router-outlet-padding-top:calc(var(--menu-bar-total-height) + var(--router-outlet-vertical-padding));--main-bg-color:#f8f8f8}app-menu-bar[_ngcontent-uqa-c18]{position:fixed;top:0;width:100%;z-index:2}.main-container[_ngcontent-uqa-c18]{background-color:var(--main-bg-color);min-height:calc(100vh - (var(--router-outlet-padding-top) + var(--router-outlet-vertical-padding)));padding-top:var(--router-outlet-padding-top);padding-bottom:var(--router-outlet-vertical-padding)}.blog[_ngcontent-uqa-c18]{max-width:700px;margin:0 auto;padding:10px 20px;background-color:#fff;border:1px solid #d3d3d3}footer[_ngcontent-uqa-c18]{background-color:var(--main-bg-color);font-size:10px;text-align:center}.modal[_ngcontent-uqa-c18]{z-index:3;width:100vw;height:100vh;background-color:rgba(0,0,0,.8);cursor:zoom-out}.modal[_ngcontent-uqa-c18], .modal[_ngcontent-uqa-c18]   img[_ngcontent-uqa-c18]{position:fixed;bottom:0;left:0;right:0;top:0}.modal[_ngcontent-uqa-c18]   img[_ngcontent-uqa-c18]{max-width:100%;width:100%;max-height:100%;margin:auto;overflow:auto;-o-object-fit:contain;object-fit:contain}</style><style>[_nghost-uqa-c16]{--menu-bar-item-margin:20px;--menu-bar-search-item-margin:20px;--search-width:200px;--home-icon-font-size:28px;--menu-bar-item-display:inline}@media screen and (max-width:800px) and (min-width:600px){[_nghost-uqa-c16]{--menu-bar-search-item-margin:10px;--search-width:150px;--menu-bar-item-display:inline}}@media screen and (max-width:600px){[_nghost-uqa-c16]{--menu-bar-item-margin:10px;--menu-bar-search-item-margin:5px;--search-width:100px;--home-icon-font-size:28px;--menu-bar-item-display:none}}.menu-bar-container[_ngcontent-uqa-c16]{height:50px;grid-template-columns:repeat(3,-webkit-min-content) 1fr;grid-template-columns:repeat(3,min-content) 1fr;-moz-column-gap:var(--menu-bar-item-margin);column-gap:var(--menu-bar-item-margin);justify-content:left}.menu-bar-container[_ngcontent-uqa-c16], .menu-bar-search-container[_ngcontent-uqa-c16]{position:relative;align-items:center;width:100%;background-color:#eee;color:#000;border-bottom:1px solid #d3d3d3;display:grid}.menu-bar-search-container[_ngcontent-uqa-c16]{height:35px;grid-template-columns:repeat(1,-webkit-min-content) auto auto auto;grid-template-columns:repeat(1,min-content) auto auto auto;-moz-column-gap:var(--menu-bar-search-item-margin);column-gap:var(--menu-bar-search-item-margin);justify-content:center}#searchInput[_ngcontent-uqa-c16]{max-width:var(--search-width);padding:none;margin:none}.sort-name[_ngcontent-uqa-c16], .sort-tag[_ngcontent-uqa-c16], .sort-timestamp[_ngcontent-uqa-c16]{font-size:16px}.menu-link[_ngcontent-uqa-c16] > span[_ngcontent-uqa-c16], .sort-name[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16], .sort-tag[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16], .sort-timestamp[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16]{border-radius:5px;transition:.2s ease-in-out}.menu-link[_ngcontent-uqa-c16] > span[_ngcontent-uqa-c16]:hover, .sort-name[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16]:hover, .sort-tag[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16]:hover, .sort-timestamp[_ngcontent-uqa-c16] > div[_ngcontent-uqa-c16]:hover{cursor:pointer;color:var(--active-link-green)}.menu-link[_ngcontent-uqa-c16] > span.active-link[_ngcontent-uqa-c16], [class*=sort-].active[_ngcontent-uqa-c16]{color:var(--active-link-green)}.menu-link[_ngcontent-uqa-c16]{font-size:var(--home-icon-font-size);transition:.2s ease-in-out}.menu-link[_ngcontent-uqa-c16] > span[_ngcontent-uqa-c16]:active, .menu-link[_ngcontent-uqa-c16] > span[_ngcontent-uqa-c16]:focus{outline:0;border:none}.menu-link.right[_ngcontent-uqa-c16]{text-align:right}.menu-link.right[_ngcontent-uqa-c16]   div[_ngcontent-uqa-c16], .menu-link.right[_ngcontent-uqa-c16]   span[_ngcontent-uqa-c16]{margin-right:var(--menu-bar-item-margin)}.menu-author[_ngcontent-uqa-c16]{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;text-align:center}.menu-author[_ngcontent-uqa-c16]   div[_ngcontent-uqa-c16]{font-family:ps-regular;text-transform:uppercase;font-size:14px}.hamburger[_ngcontent-uqa-c16]{display:inline-block}.hamburger[_ngcontent-uqa-c16]:hover{cursor:pointer}.bar1[_ngcontent-uqa-c16]{margin-top:5px!important}.bar1[_ngcontent-uqa-c16], .bar2[_ngcontent-uqa-c16], .bar3[_ngcontent-uqa-c16]{width:20px;height:5px;background-color:#333;margin:3px 5px;transition:.4s}.change[_ngcontent-uqa-c16]   .bar1[_ngcontent-uqa-c16]{transform:rotate(-45deg) translate(-5px,5px)}.change[_ngcontent-uqa-c16]   .bar2[_ngcontent-uqa-c16]{opacity:0}.change[_ngcontent-uqa-c16]   .bar3[_ngcontent-uqa-c16]{transform:rotate(45deg) translate(-6px,-6px)}.sidebar[_ngcontent-uqa-c16]{top:var(--menu-bar-total-height);background-color:#eee;color:#000;border-right:1px solid #d3d3d3;font-size:16px;width:250px;position:fixed;overflow-y:auto;bottom:0}.sidebar-sub-headers-hidden[_ngcontent-uqa-c16]{display:none}.sidebar-header[_ngcontent-uqa-c16], .sidebar-header-tag[_ngcontent-uqa-c16], .sidebar-sub-headers[_ngcontent-uqa-c16]{border-bottom:1px solid #d3d3d3}.sidebar-header[_ngcontent-uqa-c16]{padding:8px}.sidebar-header-tag[_ngcontent-uqa-c16]{padding:8px 16px}.sidebar-sub-header[_ngcontent-uqa-c16]{padding:8px 26px}.sidebar-header-tag[_ngcontent-uqa-c16]   [class^=icon-][_ngcontent-uqa-c16]{font-size:10px}[class*=sidebar-][_ngcontent-uqa-c16]:hover{color:var(--active-link-green);cursor:pointer}[class*=sidebar-][_ngcontent-uqa-c16]:active, [class*=sidebar-][_ngcontent-uqa-c16]:focus{outline:0;border:none}.sidebar[_ngcontent-uqa-c16]   [class*=icon][_ngcontent-uqa-c16]{font-size:8px}.sidebar[_ngcontent-uqa-c16]   .icon-minus[_ngcontent-uqa-c16]{color:red}.sidebar-header.active-link[_ngcontent-uqa-c16], .sidebar-sub-header.active-link[_ngcontent-uqa-c16], .sidebar[_ngcontent-uqa-c16]   .icon-plus[_ngcontent-uqa-c16]{color:var(--active-link-green)}</style><style>.message[_ngcontent-uqa-c17]{z-index:9999;position:absolute;bottom:10px;right:0}.alert[_ngcontent-uqa-c17]{font-size:12px;text-align:center;width:120px;height:40px;margin-top:10px;margin-right:10px;border-radius:10px;position:relative;display:flex;align-items:center;justify-content:center}.alert-info[_ngcontent-uqa-c17]{color:rgb(var(--alert-info-color));background-color:rgba(var(--alert-info-background-color),.8);border:1px solid rgb(var(--alert-info-color))}.alert-interactive[_ngcontent-uqa-c17]{color:rgb(var(--alert-success-color));background-color:rgba(var(--alert-success-background-color),.8);border:1px solid rgb(var(--alert-success-color))}.alert-interactive[_ngcontent-uqa-c17]:hover{color:rgb(var(--alert-info-background-color));background-color:rgba(var(--alert-info-color),.8);cursor:pointer}[class^=icon-][_ngcontent-uqa-c17]{font-size:10px;padding-left:5px}</style><style></style><script>window['ScullyIO']='generated';</script></head>

<body scully-version="1.0.11">
    <app-root _nghost-uqa-c18="" ng-version="11.1.1"><app-menu-bar _ngcontent-uqa-c18="" _nghost-uqa-c16=""><div _ngcontent-uqa-c16="" class="menu-bar-container"><div _ngcontent-uqa-c16="" class="hamburger"><div _ngcontent-uqa-c16="" class="bar1"></div><div _ngcontent-uqa-c16="" class="bar2"></div><div _ngcontent-uqa-c16="" class="bar3"></div></div><div _ngcontent-uqa-c16="" class="menu-link"><span _ngcontent-uqa-c16="" routerlink="/home" routerlinkactive="active-link" class="icon-home" tabindex="0"></span></div><div _ngcontent-uqa-c16="" class="menu-link"><span _ngcontent-uqa-c16="" routerlink="/about" routerlinkactive="active-link" class="icon-profile" tabindex="0"></span></div><div _ngcontent-uqa-c16="" class="menu-link right"><span _ngcontent-uqa-c16="" class="icon-github"></span><span _ngcontent-uqa-c16="" class="icon-linkedin"></span><span _ngcontent-uqa-c16="" class="icon-envelop"></span><!----><div _ngcontent-uqa-c16="" class="menu-author"><div _ngcontent-uqa-c16="">David Beales</div></div></div></div><!----><!----></app-menu-bar><div _ngcontent-uqa-c18="" class="main-container"><div _ngcontent-uqa-c18="" class="blog"><router-outlet _ngcontent-uqa-c18=""></router-outlet><app-markdown-rendering _nghost-uqa-c13=""><h1 _ngcontent-uqa-c13=""> Rendering Markdown in the Browser</h1><h2 _ngcontent-uqa-c13=""> Overview </h2><p _ngcontent-uqa-c13=""> Right now your viewing <i _ngcontent-uqa-c13="">Markdown</i> in the browser. This article explains how.
</p><hr _ngcontent-uqa-c13=""><h2 _ngcontent-uqa-c13=""> Approach </h2><p _ngcontent-uqa-c13=""> First we need a markdown renderer. My requirements:
</p><ul _ngcontent-uqa-c13=""><li _ngcontent-uqa-c13="">Lightweight renderer.</li><li _ngcontent-uqa-c13=""><a _ngcontent-uqa-c13="" href="https://github.github.com/gfm/ ">GFM</a> (Github Flavored Markup) support.</li><li _ngcontent-uqa-c13=""> Prism for the code blocks highlighting<sup _ngcontent-uqa-c13="">1</sup>.</li><li _ngcontent-uqa-c13=""> Easy to use.</li></ul><p _ngcontent-uqa-c13=""> The choice <a _ngcontent-uqa-c13="" href="https://marked.js.org/">MarkedJs</a> for matching all of the criteria.
</p><span _ngcontent-uqa-c13="" style="font-size: 11px;"><sup _ngcontent-uqa-c13="">1</sup> Mozilla use Prism for styling there code block examples on the <a _ngcontent-uqa-c13="" href="https://developer.mozilla.org/en-US/">MDN</a> website.</span><hr _ngcontent-uqa-c13=""><h2 _ngcontent-uqa-c13=""> Basics </h2><p _ngcontent-uqa-c13=""><i _ngcontent-uqa-c13="">Marked</i> is straight-forward to use. Import marked into your html project, Figure 1, using a cdn<sup _ngcontent-uqa-c13="">2</sup>. </p><h4 _ngcontent-uqa-c13="">Figure 1 - index.html - Getting marked </h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-html"><code _ngcontent-uqa-c13="" class="  language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/markedjs/marked@a9384eea7ae8bea6ef8a95470b315c73fdb3c189/marked.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>HTML</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-uqa-c13=""> We now have access to a global variable, <i _ngcontent-uqa-c13="">marked</i>. Figure 2 shows how to use <i _ngcontent-uqa-c13="">marked</i> to parse raw markdown into actual markdown. </p><h4 _ngcontent-uqa-c13=""> Figure 2 - Parsing markdown into html </h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-javascript"><code _ngcontent-uqa-c13="" class="  language-javascript"><span class="token keyword">const</span> rawMarkdown <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getRawMarkdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tokens <span class="token operator">=</span> marked<span class="token punctuation">.</span><span class="token function">lexer</span><span class="token punctuation">(</span>rawMarkdown<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> htmlString <span class="token operator">=</span> marked<span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span>tokens<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> htmlString<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><span _ngcontent-uqa-c13="" style="font-size: 11px;"><sup _ngcontent-uqa-c13="">2</sup> This cdn is dynamically created from the <i _ngcontent-uqa-c13="">marked</i> github repository using <i _ngcontent-uqa-c13="">jsdelivr</i>. The hash after the ampersand, sets the version of *marked*, so any breaking changes will not affect you.</span><hr _ngcontent-uqa-c13=""><h2 _ngcontent-uqa-c13=""> Prism Code Block Styling</h2><p _ngcontent-uqa-c13=""> We have covered the basics, now lets look at using <i _ngcontent-uqa-c13="">Prism</i> with <i _ngcontent-uqa-c13="">marked</i>. </p><p _ngcontent-uqa-c13=""> To remind you, Prism is used for code styling. You select the language for the code block in markdown, and Prism will apply code styling to that language. </p><p _ngcontent-uqa-c13=""> Before we use it we need to download the <i _ngcontent-uqa-c13="">js</i> and <i _ngcontent-uqa-c13="">css</i> from <a _ngcontent-uqa-c13="" href="https://prismjs.com/download.html#themes=prism&amp;languages=markup+css+clike+javascript">here</a>. Stick with default settings if unsure. Simply import <i _ngcontent-uqa-c13="">Prism</i> inside your html head tag (Figure 3), once you have it locally. </p><h4 _ngcontent-uqa-c13=""> Figure 3 - index.html - Getting Prism </h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-html"><code _ngcontent-uqa-c13="" class="  language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/scripts/prism.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/styles/prism.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>HTML</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-uqa-c13=""> Now we have access to the *Prism* global object. Using the <i _ngcontent-uqa-c13="">marked</i><i _ngcontent-uqa-c13="">setOptions</i> function, we can add Prism as the code highlighter (figure 4). </p><h4 _ngcontent-uqa-c13=""> Figure 4 - Using Prism with marked</h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-javascript"><code _ngcontent-uqa-c13="" class=" match-braces  language-javascript"><span class="token keyword">const</span> languageSelector <span class="token operator">=</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-40-close">{</span>
  <span class="token string">'html'</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-30-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-30-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> <span class="token keyword">return</span> Prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span>html<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">,</span>
  <span class="token string">'javascript'</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-31-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> <span class="token keyword">return</span> Prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span>javascript<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span><span class="token punctuation">,</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-40-open">}</span><span class="token punctuation">;</span>

marked<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-36-close">(</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span>
  renderer<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-32-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-32-open">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-33-close">(</span><span class="token parameter">code<span class="token punctuation">,</span> language</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-33-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-41-close">{</span>
      <span class="token keyword">return</span> Prism<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-35-close">(</span>code<span class="token punctuation">,</span> languageSelector<span class="token punctuation brace-square brace-open brace-level-5" id="pair-37-close">[</span>language<span class="token punctuation brace-square brace-close brace-level-5" id="pair-37-open">]</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-34-open">)</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-35-open">)</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-41-open">}</span><span class="token punctuation">,</span>
  pedantic<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  gfm<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  breaks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  sanitize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  smartLists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  smartypants<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  xhtml<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-36-open">)</span><span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-uqa-c13=""> There is a lot going on here. When you create a code block in markdown, you select a language, i.e. 'javascript'. </p><p _ngcontent-uqa-c13=""> There is a <i _ngcontent-uqa-c13="">languageSelector</i> object, that when given a language from the code block (i.e. 'javascript'), it will return the a Prism object for javascript. This object is used by <i _ngcontent-uqa-c13="">Prism.highlight</i> to determine the highlighting syntax for marked. </p><p _ngcontent-uqa-c13=""> There are other <i _ngcontent-uqa-c13="">marked</i> setting as well. We will look at some of them, but we won't go through all of them as you can go to the documentation for <a _ngcontent-uqa-c13="" href="https://marked.js.org/#/USING_ADVANCED.md#options">marked</a></p><p _ngcontent-uqa-c13=""> GFM (line 12), is GitHub markdown, so I want that on. Sanitize (line 14) is not safe for parsing raw markdown, so I've turned that off. </p><hr _ngcontent-uqa-c13=""><h2 _ngcontent-uqa-c13="">Complete example of Prism with marked</h2><h4 _ngcontent-uqa-c13=""> Figure 5 - index.html - Imports</h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-html"><code _ngcontent-uqa-c13="" class="  language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/markedjs/marked/marked.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>;

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/scripts/prism.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/styles/prism.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>HTML</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><h4 _ngcontent-uqa-c13=""> Figure 6 - main.js - Script</h4><div class="code-toolbar"><pre _ngcontent-uqa-c13="" class="example-neutral  language-javascript"><code _ngcontent-uqa-c13="" class=" match-braces  language-javascript"><span class="token keyword">const</span> languageSelector <span class="token operator">=</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-57-close">{</span>
  <span class="token string">'html'</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span> <span class="token keyword">return</span> Prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span>html<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span><span class="token punctuation">,</span>
  <span class="token string">'javascript'</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-56-close">{</span> <span class="token keyword">return</span> Prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span>javascript<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-56-open">}</span><span class="token punctuation">,</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-57-open">}</span><span class="token punctuation">;</span>

marked<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-49-close">(</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-59-close">{</span>
  renderer<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-45-open">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-46-close">(</span><span class="token parameter">code<span class="token punctuation">,</span> language</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-46-open">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-58-close">{</span>
    <span class="token keyword">return</span> Prism<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-48-close">(</span>code<span class="token punctuation">,</span> languageSelector<span class="token punctuation brace-square brace-open brace-level-5" id="pair-54-close">[</span>language<span class="token punctuation brace-square brace-close brace-level-5" id="pair-54-open">]</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-47-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-47-open">)</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-48-open">)</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-58-open">}</span><span class="token punctuation">,</span>
  pedantic<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  gfm<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  breaks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  sanitize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  smartLists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  smartypants<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  xhtml<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-59-open">}</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-49-open">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rawMarkdown <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getRawMarkdown</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-50-open">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> tokens <span class="token operator">=</span> marked<span class="token punctuation">.</span><span class="token function">lexer</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-51-close">(</span>rawMarkdown<span class="token punctuation brace-round brace-close brace-level-1" id="pair-51-open">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> htmlString <span class="token operator">=</span> marked<span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-52-close">(</span>tokens<span class="token punctuation brace-round brace-close brace-level-1" id="pair-52-open">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-53-close">(</span><span class="token string">'body'</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-53-open">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> htmlString<span class="token punctuation">;</span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><hr _ngcontent-uqa-c13=""><h2 _ngcontent-uqa-c13="">Conclusion</h2><ul _ngcontent-uqa-c13=""><li _ngcontent-uqa-c13=""> Marked can be used quickly, and on its own. </li><li _ngcontent-uqa-c13=""> Prism can be used as a highlighter for code blocks in <i _ngcontent-uqa-c13="">marked</i>, with little effort</li></ul><span _ngcontent-uqa-c13="" style="font-size: 13px;"> Note, I will be writing a follow up on creating custom styling for marked, in-conjunction with Prism, which I have done on this site, but haven't had the time to write up yet!
</span></app-markdown-rendering><!----></div></div><app-message-box _ngcontent-uqa-c18="" _nghost-uqa-c17=""><div _ngcontent-uqa-c17="" class="message"><!----></div></app-message-box><footer _ngcontent-uqa-c18="">Copyright © 2020 - 2021, David Beales. All Rights Reserved. </footer><!----></app-root>
<script id="ScullyIO-transfer-state"></script><script src="runtime-es2015.a4dadbc03350107420a4.js" type="module"></script><script src="runtime-es5.a4dadbc03350107420a4.js" nomodule="" defer=""></script><script src="polyfills-es5.e0f142c56ab5df25265e.js" nomodule="" defer=""></script><script src="polyfills-es2015.ec9630898b0fafd3b25c.js" type="module"></script><script src="main-es2015.7ae919341da73629c14b.js" type="module"></script><script src="main-es5.7ae919341da73629c14b.js" nomodule="" defer=""></script>

</body></html>